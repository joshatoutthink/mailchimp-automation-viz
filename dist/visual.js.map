{"version":3,"sources":["../javascripts/flip.js","../includes/pages/visualizer/visual-page.js","visual.js","../../../../../../../../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../../../../../.config/yarn/global/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["getDelta","elOne","elTwo","deltaX","left","deltaY","top","deltaW","width","deltaH","height","flip","el","stateChange","timing","scale","translate","firstBoxes","document","querySelectorAll","firstRects","map","box","isScale","classList","contains","bg1","firstRect","getBoundingClientRect","rect","key","dataset","console","log","requestAnimationFrame","forEach","firstKey","secondBox","querySelector","secondRect","style","transition","transformOrigin","transform","widgetInit","widget","automations","viewLinks","automation","activateState","link","stateValue","closest","active","show","state","removeAttribute","setAttribute","activateAutomationState","btn","automationState","automationview","btnText","innerText","addEventListener","back","automationStateToggle","toggler","toggle","getAttribute","innerAutomations","innerAutomation","i","li","setProperty","window","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","length","module"],"mappings":"AGAA,ACAA,IDAI4E,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AHFA,ACAA,SCCSZ,ACCAa,UAAT,CAAoBxC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAyC,CDDCf,MCCM,GDDX,ACCc1B,EDDE,ECCE,CAAC0C,SAAL,EAAd;ADAEhB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADa,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3B3C,IAAAA,IAAI,CAAC4C,MAAL;ADCF,ACAC,GAFD,MDEOlB,SAAP;AACD;ACACe,EAAAA,OAAO,CAACI,IAAR,GAAe7C,IAAI,CAAC6C,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEhD,EAAAA,IAAI,CAACiD,EDCErB,QCDP,CAAgBsB,GDClB,GAAwB,MCDtB,CAA6BT,OAA7B,EAAsCzC,IAAI,CAACmD,WAA3C;ADEA,ACDD;ADEC,MAAI;AACF,ACDJ,IAAIC,MDCM,IAAIvB,ACDA,GAAG,EDCP,EAAN,ACDJ;ADEG,AFZH,GEUE,CAEE,OAAOC,GAAP,EAAY;AACZ,ACFJ,AHVA,ADFA,IAAMhF,IGcEiF,CCFCsB,AHVA3D,GDFK,GGcC,AHdE,GGcC,ACFlB,CDEmB,AFZnB,EGUqB,CHVC,EEYEoC,AHdlBhF,GGcqB,CAACkF,IHdX,CGcC,AHdAjF,EGciBkF,GHdlB,EGcC,AHdOjF,CGcgB,IHdxB,EAAkB,yDGcjB,CAAd;ACDF,AHVA,ADFA,MIYIoG,AHVEzD,GDFC,GCEK,GAAG3B,CGUf,EAAgB,KHVO,CAACoB,aAAT,CAAuB,YAAvB,CAAf;AEYE,ACDA,AHTF,ADHEnC,IAAAA,ECGI2C,EEUAmC,EHbE,EAAEhF,GGaR,EAAa,AFVE,ADHF,CAACG,ECGIc,EDHV,GAAahB,GCGK,CAACiB,CDHD,CAACf,IADtB,UCIa,CAA0B,aAA1B,CAApB;AEWI,ACDH,AJZCC,IAAAA,MAAM,EAAEJ,CGaCmF,IHbI,CAAC9E,GAA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","file":"visual.js","sourceRoot":"../bundles","sourcesContent":["const getDelta = (elOne, elTwo) => {\n  return {\n    deltaX: elOne.left - elTwo.left,\n    deltaY: elOne.top - elTwo.top,\n    deltaW: elOne.width / elTwo.width,\n    deltaH: elOne.height / elTwo.height,\n  };\n};\n/**\n *\n * @param {String} el class name of the element that will animate\n * @param {Function} stateChange the function which causes the elements to change size\n * @param {Number}  timing animation time in seconds: optional\n * @param {Boolean} scale wheather to animate scale: optional\n * @param {Boolean} translate wheather to animate translate: optional\n */\nfunction flip({\n  el,\n  stateChange,\n  timing = 0.3,\n  scale = true,\n  translate = true,\n}) {\n  //records the size and positon\n  const firstBoxes = [...document.querySelectorAll(el)];\n  const firstRects = firstBoxes.map(box => {\n    const isScale = box.classList.contains(\"no-scale\") ? false : true;\n    const bg1 = box;\n    if (bg1 === null) return;\n    const firstRect = bg1.getBoundingClientRect();\n    return { rect: firstRect, key: bg1.dataset.key, isScale };\n  });\n  console.log(firstRects);\n\n  //changes the state causing layout change\n  stateChange();\n\n  requestAnimationFrame(() => {\n    firstRects.forEach(({ rect, key, isScale }) => {\n      const [firstRect, firstKey] = [rect, key];\n      const secondBox = document.querySelector(`[data-key=\"${firstKey}\"]`);\n      //records the second size and position\n      //L.ast\n      const secondRect = secondBox.getBoundingClientRect();\n\n      //I.nvert\n      const { deltaX, deltaY, deltaW, deltaH } = getDelta(\n        firstRect,\n        secondRect\n      );\n      //sets second box as the firt box size and posistion\n      secondBox.style.transition = \"none\";\n      secondBox.style.transformOrigin = \"center top\";\n      secondBox.style.transform = `\n      ${translate ? `translate(${deltaX}px, ${deltaY}px)` : \"\"} \n      ${isScale ? `scale(${deltaW}, ${0})` : \"\"}\n      `;\n\n      //P.lay\n      requestAnimationFrame(() => {\n        secondBox.style.transition = `transform ${timing}s ease`;\n        secondBox.style.transform = `none`;\n      });\n    });\n  });\n}\nexport default flip;\n","import flip from \"../../../javascripts/flip\";\n///////////////--///////////////////////////////\nfunction widgetInit() {\n  const widget = document.querySelector(\"#va-widget\");\n\n  const automations = document.querySelectorAll(\".automation\");\n  const viewLinks = [...automations].map(automation =>\n    automation.querySelector('[data-action=\"view\"]')\n  );\n\n  /* state toggling funtions */\n  //controls going from list and automation view\n  function activateState(link) {\n    const stateValue =\n      typeof link === \"string\"\n        ? link\n        : link.closest(\".automation\").dataset.active\n        ? \"list\"\n        : link.dataset.show;\n\n    flip({\n      el: \"[data-key]\",\n      stateChange: () => (widget.dataset.state = stateValue),\n    });\n    //removes all active attributes\n    document\n      .querySelectorAll(\"[data-active]\")\n      .forEach(el => el.removeAttribute(\"data-active\"));\n    //adds active attribute to automation which was clicked\n\n    document\n      .querySelectorAll(`[data-show=\"${stateValue}\"]`)\n      .forEach(el =>\n        el.closest(\".automation\").setAttribute(\"data-active\", true)\n      );\n  }\n\n  //controls going from emails and stats view from with in the automation view\n  function activateAutomationState(btn) {\n    //toggles the dataset attr\n    const automation = document.querySelector(\".automation[data-active]\");\n    const automationState =\n      automation.dataset.automationview === \"emails\" ? \"stats\" : \"emails\";\n    automation.dataset.automationview = automationState;\n\n    //changes the button text\n    const btnText =\n      automationState === \"emails\"\n        ? \"show automation stats\"\n        : \"view automation emails\";\n    btn.innerText = btnText;\n  }\n  /* */\n\n  /* eventListeners and small cosmetic functions */\n  //toggles the state between list and the active automation\n  viewLinks.forEach(\n    link => link.addEventListener(\"click\", () => activateState(link))\n    //TODO scroll to container top\n  );\n\n  //controls the state when go back button is clicked\n  const back = widget.querySelectorAll(\".back\");\n  back.forEach(\n    back => back.addEventListener(\"click\", () => activateState(\"list\"))\n    //TODO scroll to container top\n  );\n\n  //toggles the automation state\n  const automationStateToggle = document.querySelectorAll(\n    \".toggle-automation-view\"\n  );\n  [...automationStateToggle].forEach(toggler =>\n    toggler.addEventListener(\"click\", () => activateAutomationState(toggler))\n  );\n  //gives the button initial text\n  automations.forEach(automation => {\n    const toggle = automation.querySelector(\".toggle-automation-view\");\n    toggle.innerText =\n      automation.getAttribute(\"data-automationView\") === \"emails\"\n        ? \"show automation stats\"\n        : \"view automation emails\";\n  });\n  ///creates a staggering effect for automation-emails && automation-stats\n  const innerAutomations = document.querySelectorAll(\n    \".automation-emails, .automation-stats\"\n  );\n  innerAutomations.forEach((innerAutomation, i) =>\n    [...innerAutomation.querySelectorAll(\"li\")].forEach((li, i) => {\n      li.style.setProperty(\"--delay\", i);\n    })\n  );\n}\n\nwindow.addEventListener(\"load\", () => widgetInit());\n","import \"../includes/pages/visualizer/visual-page.scss\";\nimport \"../includes/pages/visualizer/visual-page.js\";\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}